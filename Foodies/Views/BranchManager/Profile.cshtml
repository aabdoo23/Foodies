@model Foodies.Models.BranchManager
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Branch Manager Dashboard</title>

    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/all.min.css" />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
</head>
<body>

    <!-- Navbar with Profile Button -->
    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="#">
                    <i class="fa-solid fa-utensils"></i>
                    <b>Foodies</b>
                </a>
            </div>
            <div class="button-container">
                <!-- Order List Button -->
                <button class="order-btn" onclick="location.href='/BranchManager/OrderList'">
                    <i class="fa fa-list"></i> Orders
                </button>
                <!-- Profile Button -->
                <button class="profile-btn" onclick="location.href='/BranchManager/Profile'">
                    <i class="fa fa-user"></i> Profile
                </button>
            </div>
        </div>
    </nav>

    <!-- Branch Manager Dashboard -->
    <div class="d-flex justify-content-center align-items-center vh-100">
        <div class="row w-75 shadow-lg p-4 rounded">
            <!-- Left Sidebar -->
            <div class="col-md-3 left-panel shadow rounded text-center">
                <h4 class="mt-3">@Model.Username</h4>
                <div id="sidebar-menu">
                    <div class="sidebar-option" onclick="showContent('account-info', this)">Account Info</div>
                    <div class="sidebar-option" onclick="showContent('branch-details', this)">Branch Details</div>
                </div>
            </div>

            <!-- Right Content Area -->
            <div class="col-md-9 right-panel shadow rounded">
                <div id="dynamic-content">
                    @if (ViewBag.NotificationMessage != null)
                    {
                        <div class="alert @(ViewBag.NotificationType == "success" ? "alert-success" : "alert-danger")">
                            @ViewBag.NotificationMessage
                        </div>
                    }
                    <h3>Welcome, @Model.Username!</h3>
                    <p>Select an option from the menu to the left to view or update your details.</p>
                </div>
            </div>
        </div>

        <script>
            function showContent(section, element) {
                const content = {
                    'account-info': `
                        <h3>Account Info</h3>
                        <form method="post" action="/BranchManager/UpdateInfo/@Model.Id">
                            <div class="mb-3">
                                <label for="username" class="form-label">Username</label>
                                <input type="text" class="form-control" name="Username" value="@Model.Username" required />
                            </div>
                            <div class="mb-3">
                                <label for="password" class="form-label">Password</label>
                                <input type="password" class="form-control" name="Password" value="@Model.Password" required />
                            </div>
                            <div class="mb-3">
                                <button type="submit" class="btn btn-primary w-100" style="background-color: #048A81; border-color: #048A81;">Save Changes</button>
                            </div>
                        </form>
                    `,
                    'branch-details': `
                        <h3>Branch Details</h3>
                        <p><strong>Branch Area:</strong> @Model.Branch.BranchArea</p>
                        <p><strong>Branch Location:</strong> <a href="@Model.Branch.BranchLocation" target="_blank">@Model.Branch.BranchLocation</a></p>
                        <p><strong>Opening Hour:</strong> @Model.Branch.OpeningHour</p>
                        <p><strong>Closing Hour:</strong> @Model.Branch.ClosingHour</p>
                        <p><strong>Restaurant:</strong> @Model.Branch.Restaurant.Name</p>
                    `
                };

                // Update the right content area based on selection
                document.getElementById('dynamic-content').innerHTML = content[section];

                // Remove active class from all sidebar options
                const options = document.querySelectorAll('.sidebar-option');
                options.forEach(option => option.classList.remove('active-option'));

                // Add active class to the clicked element
                element.classList.add('active-option');
            }
        </script>

        <script src="js/bootstrap.bundle.min.js"></script>
        <script src="js/main.js"></script>
    </div>
</body>
</html>

<style>
    /* Navbar Styles */
    .navbar {
        padding: 10px 20px;
        background-color: #f8f9fa;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .navbar-brand {
        font-size: 1.2em;
        color: #333;
    }

    /* Container to hold buttons */
    .button-container {
        display: flex;
        align-items: center;
    }

    /* Order button styling */
    .order-btn, .profile-btn {
        background-color: var(--primary-color);
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        margin-left: 10px;
    }

        /* Hover effect for both buttons */
        .profile-btn:hover, .order-btn:hover {
            background-color: var(--primary-color);
        }

    /* Layout styling */
    .vh-100 {
        height: 100vh;
    }

    /* Sidebar */
    .left-panel {
        padding: 20px;
        background-color: #f8f9fa;
    }

    .sidebar-option {
        cursor: pointer;
        padding: 15px;
        border-bottom: 1px solid #ccc;
        margin-bottom: 15px;
        text-align: center;
        background-color: white;
    }

        .sidebar-option:hover {
            background-color: #e9ecef;
        }

    .active-option {
        background-color: #e9ecef;
        color: #D35269;
    }

    /* Right content */
    .right-panel {
        padding: 20px;
        background-color: white;
    }

    /* Alert styles */
    .alert {
        padding: 15px;
        margin-bottom: 20px;
        border: 1px solid transparent;
        border-radius: 4px;
        text-align: center;
    }

    .alert-success {
        color: #155724;
        background-color: #d4edda;
        border-color: #c3e6cb;
    }

    .alert-danger {
        color: #721c24;
        background-color: #f8d7da;
        border-color: #f5c6cb;
    }

    /* Center the profile */
    .d-flex {
        display: flex;
    }

    .justify-content-center {
        justify-content: center;
    }

    .align-items-center {
        align-items: center;
    }

    /* Shadow effect for the row */
    .shadow-lg {
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    /* Add padding and rounded corners */
    .rounded {
        border-radius: 10px;
    }

    /* Wider container */
    .w-75 {
        width: 75%;
    }
</style>
